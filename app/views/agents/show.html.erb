<!-- Chat container with full height -->
<div class="d-flex flex-column vh-100">
  <!-- Header -->
  <div class="p-3 border-bottom">
    <h5 class="m-0">AI Agent</h5>
  </div>

  <!-- Messages area with flex-grow to take available space -->
  <main class="flex-grow-1 p-3 overflow-auto" id="messages">
    <!-- Sample messages - you can remove these -->
    <div class="chat-message mb-3">
      <div class="d-flex">
        <div class="flex-shrink-0">
          <img src="https://via.placeholder.com/32" class="rounded-circle" alt="avatar">
        </div>
        <div class="flex-grow-1 ms-3">
          <div class="small text-muted">John Doe â€¢ 2 min ago</div>
          <div class="p-2 rounded bg-light">Hello! How can I help you today?</div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer with input -->
  <footer class="border-top p-3">
    <%= form_with url: agent_path, method: :post, class: "d-flex gap-2" do |f| %>
      <%= f.text_area :message, class: "form-control", placeholder: "Type your message...", "aria-label": "Message" %>
      <%= f.submit "Send", class: "btn btn-primary px-4" %>
    <% end %>
  </footer>
</div>

<% content_for :styles do %>
<style>
  #messages {
    height: 0; /* Needed for proper scrolling */
  }
  .chat-message {
    max-width: 80%;
  }
</style>
<% end %>
