<%# We don't need to append the message again since it's already broadcast in the controller %>
<%# Clear the form %>
<%= turbo_stream.replace "message-form" do %>
  <%= render "ai/messages/form", agent: @agent, conversation: @conversation, message: Ai::Message.new %>
<% end %>

<%# Scroll to bottom of messages container %>
<%= turbo_stream.append "messages-container" do %>
  <script>
    document.getElementById('messages-container').scrollTop = document.getElementById('messages-container').scrollHeight;
  </script>
<% end %>