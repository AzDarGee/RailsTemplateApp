<% content_for :title, "New chat" %>

<div class="row g-0 min-vh-100 p-4 p-md-5">
  <div class="col-12 col-lg-10 col-xl-8 mx-auto d-flex flex-column">
    <div class="card rounded-3 h-100 shadow-sm overflow-hidden" style="max-height: calc(100vh - 120px);">
      <div class="card-header d-flex align-items-center justify-content-between bg-body-tertiary py-3">
        <div class="d-flex align-items-center gap-2">
          <%= link_to chats_path, class: "btn btn-sm btn-outline-secondary" do %>
            <i class="fa-solid fa-arrow-left"></i>
            <span class="d-none d-sm-inline ms-1">Back</span>
          <% end %>
          <h5 class="mb-0 fw-semibold">New Chat</h5>
        </div>
        <div>
          <% if @chat.try(:model) %>
            <span class="badge rounded-pill text-bg-light border px-3 py-2">
              <i class="fa-solid fa-microchip me-1"></i>
              <%= @chat.model.name %>
            </span>
          <% end %>
        </div>
      </div>

      <div class="card-body p-4 p-md-5">
        <p class="small text-muted mb-4">
          <i class="fa-regular fa-circle-question me-1"></i>
          Configure your chat and start the conversation.
        </p>
        <div class="mt-3">
          <%= render "form", chat: @chat %>
        </div>
      </div>

      <div class="card-footer d-flex justify-content-end bg-body-tertiary py-3">
        <%= link_to chats_path, class: "btn btn-sm btn-outline-secondary" do %>
          <i class="fa-solid fa-xmark me-1"></i>
          Cancel
        <% end %>
      </div>
    </div>
  </div>
</div>